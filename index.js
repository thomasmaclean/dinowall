(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/license-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the license.
 */

'use strict';

module.exports = require('./lib/anypixel');

},{"./lib/anypixel":2}],2:[function(require,module,exports){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/license-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the license.
 */

'use strict';

module.exports.config = require('./config');
module.exports.canvas = require('./canvas');
module.exports.events = require('./events');
module.exports.events.setStateListenerOn(document);

},{"./canvas":3,"./config":4,"./events":5}],3:[function(require,module,exports){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/license-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the license.
 */

'use strict';

var config = require('./config');
var canvas = module.exports = {};

var domCanvas = document.getElementById(config.canvasId);

domCanvas.width = config.width;
domCanvas.height = config.height;

/**
 * Returns the 2D canvas context
 */
canvas.getContext2D = function getContext2D() {
	return domCanvas.getContext('2d');
}

/**
 * Returns the 3D canvas context
 */
canvas.getContext3D = function getContext3D() {
	return domCanvas.getContext('webgl', {preserveDrawingBuffer: true});
}
},{"./config":4}],4:[function(require,module,exports){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/license-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the license.
 */

'use strict';

/**
 * Expose some configuration data. The user can overwrite this if their setup is different.
 */
var config = module.exports = {};

config.canvasId = 'button-canvas';
config.width = 140;
config.height = 42;
},{}],5:[function(require,module,exports){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/license-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the license.
 */

'use strict';

/**
 * Listen for the 'buttonStates' event from a DOM target and emit onButtonDown / Up events
 * depending on the reported button state
 */
var events = module.exports = {};

events.setStateListenerOn = function setStateListenerOn(target) {
		
	if (target.anypixelListener) {
		return;
	}
	
	target.anypixelListener = true;

	target.addEventListener('buttonStates', function(data) {
		data.detail.forEach(function(button) {
			var x = button.p.x;
			var y = button.p.y;
			var state = button.s;
			var event = state === 1 ? 'onButtonDown' : 'onButtonUp';
			var key = x + ':' + y;

			if (state === 1) {
				events.pushedButtons[key] = {x: x, y: y};
			} else {
				delete events.pushedButtons[key];
			}
			
			target.dispatchEvent(new CustomEvent(event, {detail: {x: x, y: y}}));
		});
	});
}

/**
 * A map of currently-pushed buttons, provided for utility
 */
events.pushedButtons = {};

},{}],6:[function(require,module,exports){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/license-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the license.
 */

var anypixel = require('anypixel');
var ctx = anypixel.canvas.getContext2D();

const INC_W = anypixel.config.width;
const INC_H = anypixel.config.height;

const HORIZON_W = 1200;
const HORIZON_H = 12;
const HORIZON_HILL_H = 4;
const HORIZON_SPEED = 4;
let horizonLocation = 0;
const horizonImageDataUri = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAAASCAYAAABLuic5AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wwJFRcnXpgxYQAAAYVJREFUeNrt3FGuwiAQBVBZY/e/FvzSGEMTCrR06DmfxjyfUxguFk0vAADgdDnnXHo8pZRUB9AD9VgAAIDpG7fS5mrvcYCn9MAIf5978EkkAACcuGn7Bu+dUwCf5zglAOiBeiwAAMDlG7cjd/+dxgL0wLrnt/RLPTa+5AICAMBJYfvgHf+R2bzmte0FgKg9sPfEFgAAAJPVnDRwGgGASHwHFAAAFlTz4ZTfhAEgiqUXrJofdOO60OQaGKuYJ2DeWbMwfo1VzBMw74a/+C+Xo/3C9dRfNePWb9u2HHkMGitr9ZRSb1/9mj5hHkR/r///d+t7iVQH+Uq+smbGzTjGjnwlX8lX8hWAkKQeQiwTx7+AAuin6oF8ZfzLVwRtrKMHWuQ7rivdQdFE2urZWzN1R3DEJk1N5Cv5ypyTr0C+kiWmLPx3GViO4teZ+XU2WHlx1Xeu69/6mEAZKaDJV8YFIF9F6N9qLV9ZRwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDx3klPSzP33sjKAAAAAElFTkSuQmCC';

var colors = ['#F00', '#0F0', '#00F'];

const DINOSAUR_H = 22;
const DINOSAUR_W = 20;
const dinosaur = {
  x: 0,
  y: INC_H - HORIZON_H - DINOSAUR_H + HORIZON_HILL_H,
};

const dinoImageDataUri = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL0AAAAWCAYAAACVDJ0dAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wwJFR4dSVZTmgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAKKSURBVHja7VvBbsMgDLWjHPJVPZJvhmO/qjd26CIxCsE2OE0WW0LaFHgG+9mA2dB7Dy1xzm0/xkZXDCEAVQxXF3eTdV13cb33CDeSidE3UvokDjRcJi4iwtZG4a7rGmOMsDVJUNyZ9O9Ug9dKClrz1cKtEfOs870F6bWcoiVa870aOa/mN02ZzQT/P0Aty3dmehOTu2d6rRRiuCZ6pH88HgAA8Hw+ix0a1YJ0P/5TTtvG1UpshkvChRruKLlbuRIAYF6WJb5eL2w4I3Ky2+/YWOpjuP24AO8yY4uwpVLk3ph0Tj0BRg3kEMIwnRy9c2NwpE6eOSnDVcDdIzvnPg0AmO9QCu8ZmNlhhE6S3hkAYFmW6JxD5uBIyEiGq4hbyvYtwm/fG7tELBCTRChGMOc7oFQnW+9UAeco4kSe4Q7GTUlOyfDMM3zMGrX/ewGyUilXJ1vvzMw+IxxuuINxuceZBvFRMM/yYunvDsN0UvR2lSw1qgmGq49LuFgOJeHZdE4gqzHvls9+vxmuEq7gmEIek+jFI4PtSJ1Th2MoCzFcJVwp8b9IQiy0I4j/oXcSOAaVHG64AqdTic8NkA4SYmXMx+U03806iU/WOzEdg9yzpuHq4lIILd0RiCRMyYbZWmutusYQAsVW2KN3JtykR10wjsRNIxydc5JLYYrLqQN/xQ7ee0yrOPnvEskfjwo2wOxVtcfeJb2w59csm5P1To1qAeZRJ1nMF3CBklUYGe7joehMdqhl9t4zfzaX2Lhsi+1NtVOWycV6554KgjTTaeOOwM9KaR9/J3JWOyhdbnFv7sqlVWwEBL96s/Ot9P+YcYDjj8TtJn6SYS5hh9KRpueYU7HBcFvv2Wk04A8GVyP3KvY3jQAAAABJRU5ErkJggg==';

let lastFrame = Date.now();
const horizonImage = getHorizonImage();
const dinosaurImage = getDinosaurImage();

/**
 * Listen for onButtonDown events and draw a 2x2 rectangle at the event site
 */
document.addEventListener('onButtonDown', function (event) {
  dinosaur.x++;
});

document.addEventListener('DOMContentLoaded', () => {
  requestAnimationFrame(update);
});

function drawHorizon(elapsedTimeInFrame) {
  updateHorizonLocation(elapsedTimeInFrame);
  ctx.drawImage(horizonImage, horizonLocation, INC_H - horizonImage.height);
  ctx.drawImage(horizonImage, horizonLocation + horizonImage.width,
      INC_H - horizonImage.height);
}

function updateHorizonLocation(elapsedTimeInFrame) {
  horizonLocation -= elapsedTimeInFrame * HORIZON_SPEED;
  horizonLocation = Math.floor(horizonLocation) % HORIZON_W;
}

function drawDinosaur(dinosaur) {
  ctx.fillStyle = colors[1];
  ctx.drawImage(dinosaurImage, 0, 0, DINOSAUR_W, DINOSAUR_H,
      dinosaur.x, dinosaur.y, DINOSAUR_W, DINOSAUR_H);
}

function update() {
  ctx.fillStyle = '#000';
  ctx.fillRect(0, 0, INC_W, INC_H);

  const elapsedTimeInFrame = (Date.now() - lastFrame) / 1000;
  drawHorizon(elapsedTimeInFrame);
  drawDinosaur(dinosaur);
  lastFrame = Date.now();

  requestAnimationFrame(update);
}

function getHorizonImage() {
  const horizonImage = new Image;
  horizonImage.src = horizonImageDataUri;
  horizonImage.height = HORIZON_H;
  horizonImage.width = HORIZON_W;
  return horizonImage;
}

function getDinosaurImage() {
  const dinoImage = new Image;
  dinoImage.src = dinoImageDataUri;
  return dinoImage;
}


},{"anypixel":1}]},{},[6])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIm5vZGVfbW9kdWxlcy9hbnlwaXhlbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9hbnlwaXhlbC9saWIvYW55cGl4ZWwuanMiLCJub2RlX21vZHVsZXMvYW55cGl4ZWwvbGliL2NhbnZhcy5qcyIsIm5vZGVfbW9kdWxlcy9hbnlwaXhlbC9saWIvY29uZmlnLmpzIiwibm9kZV9tb2R1bGVzL2FueXBpeGVsL2xpYi9ldmVudHMuanMiLCJzcmMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvbGljZW5zZS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBsaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9hbnlwaXhlbCcpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9saWNlbnNlLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIGxpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cy5jb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xubW9kdWxlLmV4cG9ydHMuY2FudmFzID0gcmVxdWlyZSgnLi9jYW52YXMnKTtcbm1vZHVsZS5leHBvcnRzLmV2ZW50cyA9IHJlcXVpcmUoJy4vZXZlbnRzJyk7XG5tb2R1bGUuZXhwb3J0cy5ldmVudHMuc2V0U3RhdGVMaXN0ZW5lck9uKGRvY3VtZW50KTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvbGljZW5zZS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBsaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG52YXIgY2FudmFzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxudmFyIGRvbUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5jYW52YXNJZCk7XG5cbmRvbUNhbnZhcy53aWR0aCA9IGNvbmZpZy53aWR0aDtcbmRvbUNhbnZhcy5oZWlnaHQgPSBjb25maWcuaGVpZ2h0O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIDJEIGNhbnZhcyBjb250ZXh0XG4gKi9cbmNhbnZhcy5nZXRDb250ZXh0MkQgPSBmdW5jdGlvbiBnZXRDb250ZXh0MkQoKSB7XG5cdHJldHVybiBkb21DYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSAzRCBjYW52YXMgY29udGV4dFxuICovXG5jYW52YXMuZ2V0Q29udGV4dDNEID0gZnVuY3Rpb24gZ2V0Q29udGV4dDNEKCkge1xuXHRyZXR1cm4gZG9tQ2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZX0pO1xufSIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvbGljZW5zZS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBsaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBFeHBvc2Ugc29tZSBjb25maWd1cmF0aW9uIGRhdGEuIFRoZSB1c2VyIGNhbiBvdmVyd3JpdGUgdGhpcyBpZiB0aGVpciBzZXR1cCBpcyBkaWZmZXJlbnQuXG4gKi9cbnZhciBjb25maWcgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5jb25maWcuY2FudmFzSWQgPSAnYnV0dG9uLWNhbnZhcyc7XG5jb25maWcud2lkdGggPSAxNDA7XG5jb25maWcuaGVpZ2h0ID0gNDI7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9saWNlbnNlLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIGxpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIExpc3RlbiBmb3IgdGhlICdidXR0b25TdGF0ZXMnIGV2ZW50IGZyb20gYSBET00gdGFyZ2V0IGFuZCBlbWl0IG9uQnV0dG9uRG93biAvIFVwIGV2ZW50c1xuICogZGVwZW5kaW5nIG9uIHRoZSByZXBvcnRlZCBidXR0b24gc3RhdGVcbiAqL1xudmFyIGV2ZW50cyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbmV2ZW50cy5zZXRTdGF0ZUxpc3RlbmVyT24gPSBmdW5jdGlvbiBzZXRTdGF0ZUxpc3RlbmVyT24odGFyZ2V0KSB7XG5cdFx0XG5cdGlmICh0YXJnZXQuYW55cGl4ZWxMaXN0ZW5lcikge1xuXHRcdHJldHVybjtcblx0fVxuXHRcblx0dGFyZ2V0LmFueXBpeGVsTGlzdGVuZXIgPSB0cnVlO1xuXG5cdHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdidXR0b25TdGF0ZXMnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0ZGF0YS5kZXRhaWwuZm9yRWFjaChmdW5jdGlvbihidXR0b24pIHtcblx0XHRcdHZhciB4ID0gYnV0dG9uLnAueDtcblx0XHRcdHZhciB5ID0gYnV0dG9uLnAueTtcblx0XHRcdHZhciBzdGF0ZSA9IGJ1dHRvbi5zO1xuXHRcdFx0dmFyIGV2ZW50ID0gc3RhdGUgPT09IDEgPyAnb25CdXR0b25Eb3duJyA6ICdvbkJ1dHRvblVwJztcblx0XHRcdHZhciBrZXkgPSB4ICsgJzonICsgeTtcblxuXHRcdFx0aWYgKHN0YXRlID09PSAxKSB7XG5cdFx0XHRcdGV2ZW50cy5wdXNoZWRCdXR0b25zW2tleV0gPSB7eDogeCwgeTogeX07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgZXZlbnRzLnB1c2hlZEJ1dHRvbnNba2V5XTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2ZW50LCB7ZGV0YWlsOiB7eDogeCwgeTogeX19KSk7XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEEgbWFwIG9mIGN1cnJlbnRseS1wdXNoZWQgYnV0dG9ucywgcHJvdmlkZWQgZm9yIHV0aWxpdHlcbiAqL1xuZXZlbnRzLnB1c2hlZEJ1dHRvbnMgPSB7fTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9saWNlbnNlLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIGxpY2Vuc2UuXG4gKi9cblxudmFyIGFueXBpeGVsID0gcmVxdWlyZSgnYW55cGl4ZWwnKTtcbnZhciBjdHggPSBhbnlwaXhlbC5jYW52YXMuZ2V0Q29udGV4dDJEKCk7XG5cbmNvbnN0IElOQ19XID0gYW55cGl4ZWwuY29uZmlnLndpZHRoO1xuY29uc3QgSU5DX0ggPSBhbnlwaXhlbC5jb25maWcuaGVpZ2h0O1xuXG5jb25zdCBIT1JJWk9OX1cgPSAxMjAwO1xuY29uc3QgSE9SSVpPTl9IID0gMTI7XG5jb25zdCBIT1JJWk9OX0hJTExfSCA9IDQ7XG5jb25zdCBIT1JJWk9OX1NQRUVEID0gNDtcbmxldCBob3Jpem9uTG9jYXRpb24gPSAwO1xuY29uc3QgaG9yaXpvbkltYWdlRGF0YVVyaSA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQkxBQUFBQVNDQVlBQUFCTHVpYzVBQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBQ1hCSVdYTUFBQzRqQUFBdUl3RjRwVDkyQUFBQUIzUkpUVVVINHd3SkZSY25YcGd4WVFBQUFZVkpSRUZVZU5ydDNGR3V3aUFRQlZCWlkvZS9GdnpTR0VNVENyUjA2RG1meGp5ZlV4Z3VGazB2QUFEZ2REbm5YSG84cFpSVUI5QUQ5VmdBQUlEcEc3ZlM1bXJ2Y1lDbjlNQUlmNTk3OEVra0FBQ2N1R243QnUrZFV3Q2Y1emdsQU9pQmVpd0FBTURsRzdjamQvK2R4Z0wwd0xybnQvUkxQVGErNUFJQ0FNQkpZZnZnSGYrUjJiem10ZTBGZ0tnOXNQZkVGZ0FBQUpQVm5EUndHZ0dBU0h3SEZBQUFGbFR6NFpUZmhBRWdpcVVYckpvZmRPTzYwT1FhR0t1WUoyRGVXYk13Zm8xVnpCTXc3NGEvK0MrWG8vM0M5ZFJmTmVQV2I5dTJISGtNR2l0cjlaUlNiMS85bWo1aEhrUi9yLy8vZCt0N2lWUUgrVXErc21iR3pUakdqbndsWDhsWDhoV0FrS1FlUWl3VHg3K0FBdWluNm9GOFpmekxWd1J0cktNSFd1UTdyaXZkUWRGRTJ1clpXek4xUjNERUprMU41Q3Y1eXB5VHIwQytraVdtTFB4M0dWaU80dGVaK1hVMldIbHgxWGV1NjkvNm1FQVpLYURKVjhZRklGOUY2TjlxTFY5WlJ3RUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFJRHgza2xQU3pQMzNzaktBQUFBQUVsRlRrU3VRbUNDJztcblxudmFyIGNvbG9ycyA9IFsnI0YwMCcsICcjMEYwJywgJyMwMEYnXTtcblxuY29uc3QgRElOT1NBVVJfSCA9IDIyO1xuY29uc3QgRElOT1NBVVJfVyA9IDIwO1xuY29uc3QgZGlub3NhdXIgPSB7XG4gIHg6IDAsXG4gIHk6IElOQ19IIC0gSE9SSVpPTl9IIC0gRElOT1NBVVJfSCArIEhPUklaT05fSElMTF9ILFxufTtcblxuY29uc3QgZGlub0ltYWdlRGF0YVVyaSA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUwwQUFBQVdDQVlBQUFDVkRKMGRBQUFBQm1KTFIwUUFBQUFBQUFENVE3dC9BQUFBQ1hCSVdYTUFBQzRqQUFBdUl3RjRwVDkyQUFBQUIzUkpUVVVINHd3SkZSNGRTVlpUbWdBQUFCbDBSVmgwUTI5dGJXVnVkQUJEY21WaGRHVmtJSGRwZEdnZ1IwbE5VRmVCRGhjQUFBS0tTVVJCVkhqYTdWdkJic01nRExXakhQSlZQWkp2aG1PL3FqZDI2Q0l4Q3NFMk9FMFdXMExhRkhnRys5bUEyZEI3RHkxeHptMC94a1pYRENFQVZReFhGM2VUZFYxM2NiMzNDRGVTaWRFM1V2b2tEalJjSmk0aXd0Wkc0YTdyR21PTXNEVkpVTnlaOU85VWc5ZEtDbHJ6MWNLdEVmT3M4NzBGNmJXY29pVmE4NzBhT2EvbU4wMlp6UVQvUDBBdHkzZG1laE9UdTJkNnJSUml1Q1o2cEg4OEhnQUE4SHcraXgwYTFZSjBQLzVUVHR2RzFVcHNoa3ZDaFJydUtMbGJ1UklBWUY2V0piNWVMMnc0STNLeTIrL1lXT3BqdVAyNEFPOHlZNHV3cFZMazNwaDBUajBCUmcza0VNSXduUnk5YzJOd3BFNmVPU25EVmNEZEl6dm5QZzBBbU85UUN1OFptTmxoaEU2UzNoa0FZRm1XNkp4RDV1Qkl5RWlHcTRoYnl2WXR3bS9mRzd0RUxCQ1RSQ2hHTU9jN29GUW5XKzlVQWVjbzRrU2U0UTdHVFVsT3lmRE1NM3pNR3JYL2V3R3lVaWxYSjF2dnpNdytJeHh1dUlOeHVjZVpCdkZSTU0veVl1bnZEc04wVXZSMmxTdzFxZ21HcTQ5THVGZ09KZUhaZEU0Z3F6SHZsczkrdnhtdUVxN2dtRUllaytqRkk0UHRTSjFUaDJNb0N6RmNKVndwOGI5SVFpeTBJNGovb1hjU09BYVZIRzY0QXFkVGljOE5rQTRTWW1YTXgrVTAzODA2aVUvV096RWRnOXl6cHVIcTRsSUlMZDBSaUNSTXlZYlpXbXV0dXNZUUFzVlcyS04zSnR5a1IxMHdqc1JOSXh5ZGM1SkxZWXJMcVFOL3hRN2VlMHlyT1BudkVza2Zqd28yd094VnRjZmVKYjJ3NTljc201UDFUbzFxQWVaUkoxbk1GM0NCa2xVWUdlN2pvZWhNZHFobDl0NHpmemFYMkxoc2krMU50Vk9XeWNWNjU1NEtnalRUYWVPT3dNOUthUjkvSjNKV095aGRibkZ2N3NxbFZXd0VCTDk2cy9PdDlQK1ljWURqajhUdEpuNlNZUzVoaDlLUnB1ZVlVN0hCY0Z2djJXazA0QThHVnlQM0t2WTNqUUFBQUFCSlJVNUVya0pnZ2c9PSc7XG5cbmxldCBsYXN0RnJhbWUgPSBEYXRlLm5vdygpO1xuY29uc3QgaG9yaXpvbkltYWdlID0gZ2V0SG9yaXpvbkltYWdlKCk7XG5jb25zdCBkaW5vc2F1ckltYWdlID0gZ2V0RGlub3NhdXJJbWFnZSgpO1xuXG4vKipcbiAqIExpc3RlbiBmb3Igb25CdXR0b25Eb3duIGV2ZW50cyBhbmQgZHJhdyBhIDJ4MiByZWN0YW5nbGUgYXQgdGhlIGV2ZW50IHNpdGVcbiAqL1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignb25CdXR0b25Eb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGRpbm9zYXVyLngrKztcbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcbn0pO1xuXG5mdW5jdGlvbiBkcmF3SG9yaXpvbihlbGFwc2VkVGltZUluRnJhbWUpIHtcbiAgdXBkYXRlSG9yaXpvbkxvY2F0aW9uKGVsYXBzZWRUaW1lSW5GcmFtZSk7XG4gIGN0eC5kcmF3SW1hZ2UoaG9yaXpvbkltYWdlLCBob3Jpem9uTG9jYXRpb24sIElOQ19IIC0gaG9yaXpvbkltYWdlLmhlaWdodCk7XG4gIGN0eC5kcmF3SW1hZ2UoaG9yaXpvbkltYWdlLCBob3Jpem9uTG9jYXRpb24gKyBob3Jpem9uSW1hZ2Uud2lkdGgsXG4gICAgICBJTkNfSCAtIGhvcml6b25JbWFnZS5oZWlnaHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVIb3Jpem9uTG9jYXRpb24oZWxhcHNlZFRpbWVJbkZyYW1lKSB7XG4gIGhvcml6b25Mb2NhdGlvbiAtPSBlbGFwc2VkVGltZUluRnJhbWUgKiBIT1JJWk9OX1NQRUVEO1xuICBob3Jpem9uTG9jYXRpb24gPSBNYXRoLmZsb29yKGhvcml6b25Mb2NhdGlvbikgJSBIT1JJWk9OX1c7XG59XG5cbmZ1bmN0aW9uIGRyYXdEaW5vc2F1cihkaW5vc2F1cikge1xuICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzFdO1xuICBjdHguZHJhd0ltYWdlKGRpbm9zYXVySW1hZ2UsIDAsIDAsIERJTk9TQVVSX1csIERJTk9TQVVSX0gsXG4gICAgICBkaW5vc2F1ci54LCBkaW5vc2F1ci55LCBESU5PU0FVUl9XLCBESU5PU0FVUl9IKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlKCkge1xuICBjdHguZmlsbFN0eWxlID0gJyMwMDAnO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgSU5DX1csIElOQ19IKTtcblxuICBjb25zdCBlbGFwc2VkVGltZUluRnJhbWUgPSAoRGF0ZS5ub3coKSAtIGxhc3RGcmFtZSkgLyAxMDAwO1xuICBkcmF3SG9yaXpvbihlbGFwc2VkVGltZUluRnJhbWUpO1xuICBkcmF3RGlub3NhdXIoZGlub3NhdXIpO1xuICBsYXN0RnJhbWUgPSBEYXRlLm5vdygpO1xuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xufVxuXG5mdW5jdGlvbiBnZXRIb3Jpem9uSW1hZ2UoKSB7XG4gIGNvbnN0IGhvcml6b25JbWFnZSA9IG5ldyBJbWFnZTtcbiAgaG9yaXpvbkltYWdlLnNyYyA9IGhvcml6b25JbWFnZURhdGFVcmk7XG4gIGhvcml6b25JbWFnZS5oZWlnaHQgPSBIT1JJWk9OX0g7XG4gIGhvcml6b25JbWFnZS53aWR0aCA9IEhPUklaT05fVztcbiAgcmV0dXJuIGhvcml6b25JbWFnZTtcbn1cblxuZnVuY3Rpb24gZ2V0RGlub3NhdXJJbWFnZSgpIHtcbiAgY29uc3QgZGlub0ltYWdlID0gbmV3IEltYWdlO1xuICBkaW5vSW1hZ2Uuc3JjID0gZGlub0ltYWdlRGF0YVVyaTtcbiAgcmV0dXJuIGRpbm9JbWFnZTtcbn1cblxuIl19
